üìò B√ÄI T·∫¨P L·ªöN ‚Äì L·∫¨P TR√åNH JAVA C∆† B·∫¢N & OOP

ƒê·ªÅ t√†i: ·ª®ng d·ª•ng Qu·∫£n l√Ω Th∆∞ vi·ªán Mini

1. M·ª•c ti√™u

√în t·∫≠p Java c∆° b·∫£n (ki·ªÉu d·ªØ li·ªáu, ƒëi·ªÅu ki·ªán, v√≤ng l·∫∑p, collection).
V·∫≠n d·ª•ng OOP (class, object, k·∫ø th·ª´a, interface, encapsulation).
T·ªï ch·ª©c m√£ ngu·ªìn th√†nh c√°c l·ªõp r√µ r√†ng.
Th·ª±c h√†nh qu·∫£n l√Ω d·ªØ li·ªáu v·ªõi ArrayList.
Bi·∫øt c√°ch ƒë·ªçc/ghi d·ªØ li·ªáu ra file.
L√†m quen v·ªõi thi·∫øt k·∫ø ch∆∞∆°ng tr√¨nh c√≥ menu console.

2. M√¥ t·∫£ b√†i to√°n

X√¢y d·ª±ng ·ª©ng d·ª•ng console qu·∫£n l√Ω th∆∞ vi·ªán mini:
Qu·∫£n l√Ω s√°ch (m·ªói ƒë·∫ßu s√°ch c√≥ s·ªë l∆∞·ª£ng).
Qu·∫£n l√Ω ng∆∞·ªùi d√πng.
Ng∆∞·ªùi d√πng c√≥ th·ªÉ m∆∞·ª£n v√† tr·∫£ s√°ch.
M·ªói ng∆∞·ªùi d√πng c√≥ danh s√°ch c√°c s√°ch ƒë√£ m∆∞·ª£n.
D·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u tr·ªØ ra file khi tho√°t v√† n·∫°p l·∫°i khi kh·ªüi ƒë·ªông.

3. Y√™u c·∫ßu ch·ª©c nƒÉng
3.1. Qu·∫£n l√Ω s√°ch

M·ªói Book c√≥ th√¥ng tin:
id (m√£ s·ªë duy nh·∫•t)
title (t√™n s√°ch)
author (t√°c gi·∫£)
year (nƒÉm xu·∫•t b·∫£n)
quantity (s·ªë l∆∞·ª£ng c√≤n l·∫°i trong th∆∞ vi·ªán)

Ch·ª©c nƒÉng:

Th√™m m·ªõi s√°ch.
Xo√° s√°ch theo id.
C·∫≠p nh·∫≠t th√¥ng tin ho·∫∑c s·ªë l∆∞·ª£ng s√°ch.
T√¨m ki·∫øm s√°ch theo t√™n ho·∫∑c t√°c gi·∫£.
Hi·ªÉn th·ªã danh s√°ch s√°ch hi·ªán c√≥.

3.2. Qu·∫£n l√Ω ng∆∞·ªùi d√πng

M·ªói User c√≥ th√¥ng tin:
id
cccd
name
birthdate
address

Danh s√°ch s√°ch ƒë√£ m∆∞·ª£n (list BorrowRecord).

Ch·ª©c nƒÉng:
Th√™m ng∆∞·ªùi d√πng m·ªõi.
Hi·ªÉn th·ªã danh s√°ch ng∆∞·ªùi d√πng v√† c√°c s√°ch h·ªç ƒëang m∆∞·ª£n.

3.3. M∆∞·ª£n v√† tr·∫£ s√°ch

Khi m∆∞·ª£n:

Nh·∫≠p id ng∆∞·ªùi d√πng, id s√°ch v√† s·ªë l∆∞·ª£ng.
N·∫øu s√°ch c√≤n ƒë·ªß s·ªë l∆∞·ª£ng th√¨ cho m∆∞·ª£n.
Gi·∫£m s·ªë l∆∞·ª£ng s√°ch trong th∆∞ vi·ªán.
Ghi nh·∫≠n s√°ch ƒë√£ m∆∞·ª£n v√†o danh s√°ch c·ªßa ng∆∞·ªùi d√πng.

Khi tr·∫£:

Nh·∫≠p id ng∆∞·ªùi d√πng, id s√°ch v√† s·ªë l∆∞·ª£ng.
TƒÉng s·ªë l∆∞·ª£ng s√°ch trong th∆∞ vi·ªán.
Gi·∫£m s·ªë l∆∞·ª£ng s√°ch trong danh s√°ch m∆∞·ª£n c·ªßa ng∆∞·ªùi d√πng.
Kh√¥ng cho tr·∫£ qu√° s·ªë l∆∞·ª£ng ƒë√£ m∆∞·ª£n.

3.4. L∆∞u v√† n·∫°p d·ªØ li·ªáu t·ª´ file
File books.txt l∆∞u danh s√°ch s√°ch:
1,Harry Potter,J.K.Rowling,1997,5
2,L·∫≠p Tr√¨nh Java,Nguyen Van A,2020,10

File users.txt l∆∞u danh s√°ch ng∆∞·ªùi d√πng:
1,033012112233,Nguyen Van B,01/01/2000,H√† N·ªôi
2,033012112233,Tran Thi C,01/01/2000,H√† N·ªôi


File borrow_records.txt (n√¢ng cao, khuy·∫øn kh√≠ch):

userId=1,bookId=2,quantity=2
userId=1,bookId=1,quantity=1


Khi ch·∫°y ch∆∞∆°ng tr√¨nh: ƒë·ªçc file ƒë·ªÉ kh·ªüi t·∫°o d·ªØ li·ªáu.
Khi tho√°t: ghi l·∫°i to√†n b·ªô d·ªØ li·ªáu ra file.

3.5. Menu ch∆∞∆°ng tr√¨nh
================= LIBRARY MENU =================
1. Th√™m s√°ch
2. Xo√° s√°ch
3. C·∫≠p nh·∫≠t th√¥ng tin s√°ch
4. T√¨m ki·∫øm s√°ch
5. Hi·ªÉn th·ªã danh s√°ch s√°ch
6. Th√™m ng∆∞·ªùi d√πng
7. Hi·ªÉn th·ªã danh s√°ch ng∆∞·ªùi d√πng + s√°ch ƒë√£ m∆∞·ª£n
8. M∆∞·ª£n s√°ch
9. Tr·∫£ s√°ch
0. Tho√°t (l∆∞u d·ªØ li·ªáu ra file)
===============================================
Ch·ªçn ch·ª©c nƒÉng: 

4. G·ª£i √Ω thi·∫øt k·∫ø class
class User {
    private int id;
    private String name;
    private List<BorrowRecord> borrowedBooks;
}

class Book {
    private int id;
    private String title;
    private String author;
    private int year;
    private int quantity;
    public boolean isAvailable() { return quantity > 0; }
}

class BorrowRecord {
    private Book book;
    private int quantity;
}

class Library {
    private List<Book> books;
    private List<User> users;
    // c√°c h√†m qu·∫£n l√Ω s√°ch, ng∆∞·ªùi d√πng, m∆∞·ª£n tr·∫£
}
1. Qu·∫£n l√Ω M∆∞·ª£n & Tr·∫£ S√°ch

Ng∆∞·ªùi d√πng c√≥ th·ªÉ m∆∞·ª£n s√°ch:
M·ªói ng∆∞·ªùi d√πng t·ªëi ƒëa ƒë∆∞·ª£c m∆∞·ª£n 3 cu·ªën c√πng l√∫c.
Khi m∆∞·ª£n, h·ªá th·ªëng ghi:
	borrowDate = ng√†y hi·ªán t·∫°i.
	dueDate = borrowDate + 7 ng√†y.

Ng∆∞·ªùi d√πng tr·∫£ s√°ch:
	N·∫øu tr·∫£ mu·ªôn ‚Üí ghi log:
yyyy-MM-dd HH:mm:ss | User <id> tr·∫£ mu·ªôn Book <id> (tr·ªÖ N ng√†y)

2. Menu Xem s√°ch qu√° h·∫°n hi·ªÉn th·ªã:

--- DANH S√ÅCH S√ÅCH QU√Å H·∫†N ---

User ID: 2 | User Name: Nguy·ªÖn VƒÉn A
Book ID: 5 | Title: Java C∆° b·∫£n
Borrow Date: 2025-09-01
Due Date: 2025-09-08
Tr·ªÖ: 12 ng√†y

----------------------------------

T·ªïng s·ªë s√°ch qu√° h·∫°n: 1

3. B·ªï sung ghi log ho·∫°t ƒë·ªông
M·ªçi ho·∫°t ƒë·ªông (m∆∞·ª£n, tr·∫£, t√¨m ki·∫øm, th√™m d·ªØ li·ªáu) ƒë∆∞·ª£c ghi v√†o file logs.txt v·ªõi c·∫•u tr√∫c:
yyyy-MM-dd HH:mm:ss | <chi ti·∫øt ho·∫°t ƒë·ªông>

VD: 
[2025-09-20 10:15:23] User 1 (Nguy·ªÖn VƒÉn C) m∆∞·ª£n Book 2 (C∆° s·ªü d·ªØ li·ªáu)
[2025-09-20 11:05:10] User 2 (Tr·∫ßn VƒÉn D) tr·∫£ Book 1 (L·∫≠p tr√¨nh Java)
[2025-09-20 11:20:00] ƒê√£ th√™m s√°ch "C·∫•u tr√∫c d·ªØ li·ªáu" (id=3)

3. L∆∞u tr·ªØ d·ªØ li·ªáu
D·ªØ li·ªáu l∆∞u trong c√°c file JSON:
books.json ‚Äì th√¥ng tin s√°ch.
[
  {
    "id": 2,
    "title": "C∆° s·ªü d·ªØ li·ªáu",
    "author": "Tr·∫ßn VƒÉn B",
    "year": 2021,
    "quantity": 2
  }, ...
]
users.json ‚Äì th√¥ng tin ng∆∞·ªùi d√πng.
[
  {
    "id": 1,
    "name": "Nguy·ªÖn VƒÉn C",
    "cccd": "123123123",
    "birthdate" : "12/12/2000",
    "address": "HANOi"
  }, ...
]
borrows.json ‚Äì th√¥ng tin m∆∞·ª£n s√°ch (c√≥ c·∫£ borrowDate, dueDate).
[
  {
    "userId": 1,
    "bookId": 1,
    "borrowDate": "2025-09-20",
    "dueDate" : "2025-09-27",
    "returnDate": null   // null nghƒ©a l√† ch∆∞a tr·∫£
  }, ...
]

